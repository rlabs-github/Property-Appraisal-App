(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{9540:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/template-builder",function(){return s(2210)}])},9648:(e,r,s)=>{"use strict";s.d(r,{A:()=>i});var t=s(4848),l=s(6715),a=s(9206);let n=()=>{let{data:e,isLoading:r}=(0,a.I)({queryKey:["user"],queryFn:async()=>{let e=await fetch("/api/me");if(!e.ok)throw Error("Failed to fetch user");return e.json()}});return{user:e,isLoading:r,login:async(e,r)=>{try{let s=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});if(!s.ok)throw Error("Invalid login credentials");return await s.json()}catch(e){throw console.error("Login failed:",e),e}}}},i=e=>{let{children:r}=e,{user:s,isLoading:a}=n(),i=(0,l.useRouter)();return a?(0,t.jsx)("div",{children:"Loading..."}):s?(0,t.jsx)(t.Fragment,{children:r}):(i.push("/login?from=".concat(i.asPath)),null)}},9748:(e,r,s)=>{"use strict";s.d(r,{$:()=>n});var t=s(4848),l=s(6540),a=s(8019);let n=(0,l.forwardRef)((e,r)=>{let{className:s,variant:l="default",size:n="md",...i}=e;return(0,t.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:pointer-events-none disabled:opacity-50",{default:"bg-gray-900 text-white hover:bg-gray-800",primary:"bg-blue-600 text-white hover:bg-blue-700",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",ghost:"bg-transparent hover:bg-gray-100"}[l],{sm:"h-8 px-3 text-sm",md:"h-10 px-4",lg:"h-12 px-6 text-lg",icon:"h-10 w-10 p-2 rounded-full flex items-center justify-center"}[n],s),ref:r,...i})});n.displayName="Button"},3566:(e,r,s)=>{"use strict";s.d(r,{Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i});var t=s(4848),l=s(6540),a=s(8019);let n=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});n.displayName="Card";let i=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...l})});i.displayName="CardHeader";let d=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});d.displayName="CardTitle",l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",s),...l})}).displayName="CardDescription";let o=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",s),...l})});o.displayName="CardContent",l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter"},5130:(e,r,s)=>{"use strict";s.d(r,{p:()=>n});var t=s(4848),l=s(6540),a=s(8019);let n=(0,l.forwardRef)((e,r)=>{let{className:s,type:l,...n}=e;return(0,t.jsx)("input",{type:l,className:(0,a.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...n})});n.displayName="Input"},5296:(e,r,s)=>{"use strict";s.d(r,{J:()=>i});var t=s(4848),l=s(6540),a=s(5920),n=s(8019);let i=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)(a.b,{ref:r,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...l})});i.displayName=a.b.displayName},8019:(e,r,s)=>{"use strict";s.d(r,{cn:()=>a});var t=s(4164),l=s(856);function a(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,l.QP)((0,t.$)(r))}},2210:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>R});var t=s(4848),l=s(9648),a=s(6540),n=s(3566),i=s(9748),d=s(8144),o=s(7852),c=s(5825),u=s(6897),m=s(8019);let p=c.bL;c.l9;let h=c.ZL;c.bm;let x=a.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)(c.hJ,{ref:r,className:(0,m.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",s),...l})}),f=a.forwardRef((e,r)=>{let{className:s,children:l,...a}=e;return(0,t.jsxs)(h,{children:[(0,t.jsx)(x,{}),(0,t.jsxs)(c.UC,{ref:r,className:(0,m.cn)("fixed left-[50%] top-[50%] z-50 translate-x-[-50%] translate-y-[-50%] rounded-lg bg-white p-6 shadow-lg",s),...a,children:[l,(0,t.jsx)(c.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 hover:opacity-100",children:(0,t.jsx)(u.A,{className:"h-4 w-4"})})]})]})}),g=e=>{let{className:r,...s}=e;return(0,t.jsx)("div",{className:(0,m.cn)("flex flex-col space-y-1.5",r),...s})},v=e=>{let{className:r,...s}=e;return(0,t.jsx)("h2",{className:(0,m.cn)("text-lg font-semibold",r),...s})};x.displayName=c.hJ.displayName,f.displayName=c.UC.displayName;let j=e=>{let{template:r,onClose:s}=e;return(0,t.jsx)(p,{open:!0,onOpenChange:s,children:(0,t.jsxs)(f,{className:"max-w-4xl",children:[(0,t.jsx)(g,{children:(0,t.jsx)(v,{children:"Template Preview"})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("div",{className:"border rounded p-4",children:null==r?void 0:r.content})})]})})};var b=s(5130),y=s(5296);let N=e=>{var r,s,l,a;let{settings:i,onChange:d}=e;return(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)("h3",{className:"font-medium",children:"Template Settings"})}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(y.J,{children:"Format"}),(0,t.jsxs)("select",{value:null==i?void 0:i.format,onChange:e=>d({...i,format:e.target.value}),className:"w-full mt-1 border rounded-md p-2",children:[(0,t.jsx)("option",{value:"docx",children:"Word Document"}),(0,t.jsx)("option",{value:"pdf",children:"PDF"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(y.J,{children:"Margins"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[(0,t.jsx)(b.p,{type:"number",placeholder:"Top",value:null==i?void 0:null===(r=i.margins)||void 0===r?void 0:r.top,onChange:e=>d({...i,margins:{...null==i?void 0:i.margins,top:e.target.value}})}),(0,t.jsx)(b.p,{type:"number",placeholder:"Bottom",value:null==i?void 0:null===(s=i.margins)||void 0===s?void 0:s.bottom,onChange:e=>d({...i,margins:{...null==i?void 0:i.margins,bottom:e.target.value}})}),(0,t.jsx)(b.p,{type:"number",placeholder:"Left",value:null==i?void 0:null===(l=i.margins)||void 0===l?void 0:l.left,onChange:e=>d({...i,margins:{...null==i?void 0:i.margins,left:e.target.value}})}),(0,t.jsx)(b.p,{type:"number",placeholder:"Right",value:null==i?void 0:null===(a=i.margins)||void 0===a?void 0:a.right,onChange:e=>d({...i,margins:{...null==i?void 0:i.margins,right:e.target.value}})})]})]})]})]})},w=e=>{let{onSave:r}=e,[s,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),m=async()=>{if(s)try{await r(s)}catch(e){console.error("Error saving template:",e)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Template Builder"}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsxs)(i.$,{onClick:()=>u(!0),variant:"outline",children:[(0,t.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Preview"]}),(0,t.jsxs)(i.$,{onClick:m,children:[(0,t.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Save Template"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)("h3",{className:"font-medium",children:"Template Content"})}),(0,t.jsx)(n.Wu,{})]})}),(0,t.jsx)("div",{className:"col-span-1",children:(0,t.jsx)(N,{settings:null==s?void 0:s.settings,onChange:e=>l(r=>r?{...r,settings:e}:null)})})]}),c&&(0,t.jsx)(j,{template:s,onClose:()=>u(!1)})]})};var C=s(1823);let R=()=>{let{showNotification:e}=(0,C.n)(),r=async r=>{try{(await fetch("/api/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&e("success","Template saved successfully")}catch(r){e("error","Failed to save template")}};return(0,t.jsx)(l.A,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Document Template Builder"})}),(0,t.jsx)(w,{onSave:r})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[399,872,18,116,636,593,792],()=>r(9540)),_N_E=e.O()}]);