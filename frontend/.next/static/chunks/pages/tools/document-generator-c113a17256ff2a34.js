(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[647],{3594:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/document-generator",function(){return a(1460)}])},1244:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(3943).A)("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]])},9648:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(4848),s=a(6715),n=a(9206);let l=()=>{let{data:e,isLoading:t}=(0,n.I)({queryKey:["user"],queryFn:async()=>{let e=await fetch("/api/me");if(!e.ok)throw Error("Failed to fetch user");return e.json()}});return{user:e,isLoading:t,login:async(e,t)=>{try{let a=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw Error("Invalid login credentials");return await a.json()}catch(e){throw console.error("Login failed:",e),e}}}},i=e=>{let{children:t}=e,{user:a,isLoading:n}=l(),i=(0,s.useRouter)();return n?(0,r.jsx)("div",{children:"Loading..."}):a?(0,r.jsx)(r.Fragment,{children:t}):(i.push("/login?from=".concat(i.asPath)),null)}},9748:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var r=a(4848),s=a(6540),n=a(8019);let l=(0,s.forwardRef)((e,t)=>{let{className:a,variant:s="default",size:l="md",...i}=e;return(0,r.jsx)("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:pointer-events-none disabled:opacity-50",{default:"bg-gray-900 text-white hover:bg-gray-800",primary:"bg-blue-600 text-white hover:bg-blue-700",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",ghost:"bg-transparent hover:bg-gray-100"}[s],{sm:"h-8 px-3 text-sm",md:"h-10 px-4",lg:"h-12 px-6 text-lg",icon:"h-10 w-10 p-2 rounded-full flex items-center justify-center"}[l],a),ref:t,...i})});l.displayName="Button"},3566:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>i});var r=a(4848),s=a(6540),n=a(8019);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});o.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},5130:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var r=a(4848),s=a(6540),n=a(8019);let l=(0,s.forwardRef)((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"},5296:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var r=a(4848),s=a(6540),n=a(5920),l=a(8019);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...s})});i.displayName=n.b.displayName},6992:(e,t,a)=>{"use strict";a.d(t,{bq:()=>u,eb:()=>f,gC:()=>p,l6:()=>d,yv:()=>c});var r=a(4848),s=a(6540),n=a(213),l=a(2027),i=a(5),o=a(8019);let d=n.bL;n.YJ;let c=n.WT,u=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(n.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...i,children:[s,(0,r.jsx)(l.A,{className:"h-4 w-4 opacity-50"})]})});u.displayName=n.l9.displayName;let p=s.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...i}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:t,className:(0,o.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80","popper"===l&&"translate-y-1",a),position:l,...i,children:(0,r.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})})});p.displayName=n.UC.displayName;let f=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:s})]})});f.displayName=n.q7.displayName},8019:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(4164),s=a(856);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},1460:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var r=a(4848),s=a(9648),n=a(6540),l=a(3566),i=a(9748),o=a(1244),d=a(5130),c=a(5296),u=a(6992);let p=e=>{var t;let{template:a,mappings:s,onChange:n}=e,l=(e,t)=>{n({...s,[e]:t})},i=[{value:"form",label:"Form Data"},{value:"database",label:"Database"},{value:"manual",label:"Manual Entry"}];return(0,r.jsx)("div",{className:"space-y-6",children:null==a?void 0:null===(t=a.placeholders)||void 0===t?void 0:t.map(e=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(c.J,{htmlFor:e.key,className:"text-sm font-medium",children:[e.description,e.required&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(d.p,{id:e.key,value:s[e.key]||"",onChange:t=>l(e.key,t.target.value),placeholder:"Enter value for ".concat(e.description),type:"number"===e.type?"number":"text",className:"w-full"})}),(0,r.jsxs)(u.l6,{value:s["".concat(e.key,"_source")]||"",onValueChange:t=>l("".concat(e.key,"_source"),t),children:[(0,r.jsx)(u.bq,{className:"w-[180px]",children:(0,r.jsx)(u.yv,{placeholder:"Select source"})}),(0,r.jsx)(u.gC,{children:i.map(e=>(0,r.jsx)(u.eb,{value:e.value,children:e.label},e.value))})]})]})]},e.key))})};var f=a(9957),m=a(1071),h=a(2133),x=a(1351),b=a(5357),g=a(1769),y=a(2579),j="Switch",[v,w]=(0,h.A)(j),[N,k]=v(j),C=n.forwardRef((e,t)=>{let{__scopeSwitch:a,name:s,checked:l,defaultChecked:i,required:o,disabled:d,value:c="on",onCheckedChange:u,form:p,...h}=e,[b,g]=n.useState(null),j=(0,m.s)(t,e=>g(e)),v=n.useRef(!1),w=!b||p||!!b.closest("form"),[k=!1,C]=(0,x.i)({prop:l,defaultProp:i,onChange:u});return(0,r.jsxs)(N,{scope:a,checked:k,disabled:d,children:[(0,r.jsx)(y.sG.button,{type:"button",role:"switch","aria-checked":k,"aria-required":o,"data-state":D(k),"data-disabled":d?"":void 0,disabled:d,value:c,...h,ref:j,onClick:(0,f.m)(e.onClick,e=>{C(e=>!e),w&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),w&&(0,r.jsx)(S,{control:b,bubbles:!v.current,name:s,value:c,checked:k,required:o,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});C.displayName=j;var R="SwitchThumb",E=n.forwardRef((e,t)=>{let{__scopeSwitch:a,...s}=e,n=k(R,a);return(0,r.jsx)(y.sG.span,{"data-state":D(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:t})});E.displayName=R;var S=e=>{let{control:t,checked:a,bubbles:s=!0,...l}=e,i=n.useRef(null),o=(0,b.Z)(a),d=(0,g.X)(t);return n.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&t){let r=new Event("click",{bubbles:s});t.call(e,a),e.dispatchEvent(r)}},[o,a,s]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function D(e){return e?"checked":"unchecked"}var L=a(8019);let O=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C,{className:(0,L.cn)("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...s,ref:t,children:(0,r.jsx)(E,{className:(0,L.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});O.displayName=C.displayName;let F=e=>{let{settings:t,onChange:a}=e;return(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{className:"border-b",children:(0,r.jsx)(l.ZB,{children:"Export Settings"})}),(0,r.jsxs)(l.Wu,{className:"space-y-4 p-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{children:"Output Format"}),(0,r.jsxs)(u.l6,{value:t.format,onValueChange:e=>a({...t,format:e}),children:[(0,r.jsx)(u.bq,{children:(0,r.jsx)(u.yv,{placeholder:"Select format"})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"pdf",children:"PDF"}),(0,r.jsx)(u.eb,{value:"docx",children:"Word Document"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(c.J,{htmlFor:"include-metadata",children:"Include Metadata"}),(0,r.jsx)(O,{id:"include-metadata",checked:t.includeMetadata,onCheckedChange:e=>a({...t,includeMetadata:e})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(c.J,{htmlFor:"enable-compression",children:"Enable Compression"}),(0,r.jsx)(O,{id:"enable-compression",checked:t.compression,onCheckedChange:e=>a({...t,compression:e})})]})]})]})},_=e=>{let{onGenerate:t}=e,[a,s]=(0,n.useState)([]),[d,c]=(0,n.useState)(null),[u,f]=(0,n.useState)({templateId:"",mappings:{},exportSettings:{format:"pdf",includeMetadata:!0,compression:!1}});(0,n.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await fetch("/api/templates"),t=await e.json();s(t)}catch(e){}},h=async()=>{try{let e=await fetch("/api/documents/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!e.ok)throw Error("Failed to generate document");let t=await e.blob(),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="generated-document.".concat(u.exportSettings.format),r.click(),window.URL.revokeObjectURL(a)}catch(e){}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Document Generator"}),(0,r.jsxs)(i.$,{onClick:h,children:[(0,r.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Generate Document"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)("h3",{className:"font-medium",children:"Data Mapping"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)(p,{template:d,mappings:u.mappings,onChange:e=>f(t=>({...t,mappings:e}))})})]})}),(0,r.jsx)("div",{className:"col-span-1",children:(0,r.jsx)(F,{settings:u.exportSettings,onChange:e=>f(t=>({...t,exportSettings:e}))})})]})]})};var M=a(1823);let P=()=>{let{showNotification:e}=(0,M.n)(),t=async t=>{try{let a=await fetch("/api/documents/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(a.ok){let r=await a.blob(),s=window.URL.createObjectURL(r),n=document.createElement("a");n.href=s,n.download=t.filename||"document",n.click(),window.URL.revokeObjectURL(s),e("success","Document generated successfully")}}catch(t){e("error","Failed to generate document")}};return(0,r.jsx)(s.A,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Document Generator"}),(0,r.jsx)(_,{onGenerate:t})]})})}},5920:(e,t,a)=>{"use strict";a.d(t,{b:()=>i});var r=a(6540),s=a(2579),n=a(4848),l=r.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l}},e=>{var t=t=>e(e.s=t);e.O(0,[399,872,18,855,636,593,792],()=>t(3594)),_N_E=e.O()}]);